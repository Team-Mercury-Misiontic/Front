{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Laura\\\\Desktop\\\\Proyecto Team Mercury\\\\Front\\\\src\\\\pages\\\\proyectos\\\\VerProyecto.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { GET_PROYECTO } from '../../graphql/proyectos/queries';\nimport { useParams } from 'react-router-dom';\nimport { useMutation, useQuery } from '@apollo/client';\nimport Objetivos from 'components/Objetivos';\nimport { CREAR_INSCRIPCION } from 'graphql/inscripciones/mutaciones';\nimport { toast } from 'react-toastify';\nimport ButtonLoading from 'components/ButtonLoading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst VerProyecto = () => {\n  _s();\n\n  const {\n    _id\n  } = useParams();\n  const {\n    data,\n    error,\n    loading\n  } = useQuery(GET_PROYECTO, {\n    variables: {\n      _id\n    }\n  });\n  useEffect(() => {\n    console.log(\"data servidor\", data);\n  }, [data]);\n  useEffect(() => {\n    if (error) {\n      console.log(error);\n    }\n  }, [error]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Cargando....\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"py-3\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center uppercase font-extrabold text-3xl \",\n        children: data.Proyecto.nombre\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-4 grid grid-cols-2 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"bg-blue-50 border-blue-500 border-solid border-2 col-span-2 py-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-center font-bold text-2xl col-span-4 mb-2\",\n          children: \" INFORMACION DEL PROYECTO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pl-3 grid grid-cols-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-start-1 font-bold\",\n            children: \"ID del proyecto:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 25\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-start-2 col-span-3 uppercase\",\n            children: data.Proyecto._id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 87\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-start-1 font-bold\",\n            children: \"Lider:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 25\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-start-2 col-span-3 uppercase\",\n            children: [data.Proyecto.lider.nombre, \" \", data.Proyecto.lider.apellido]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 77\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"col-start-1 font-bold\",\n            children: \"Presupuesto:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 25\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"col-start-2 uppercase\",\n            children: data.Proyecto.presupuesto\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 85\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"col-start-1 font-bold\",\n            children: \"Fecha de Inicio:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 25\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"col-start-2 uppercase\",\n            children: data.Proyecto.fechaInicio\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 89\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"col-start-1 font-bold\",\n            children: \"Fecha de Finalizacion:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 25\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"col-start-2 uppercase\",\n            children: data.Proyecto.fechaFin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 95\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"col-start-1 font-bold\",\n            children: \"Fase:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 25\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"col-start-2 uppercase\",\n            children: data.Proyecto.fase\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 78\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"col-start-1 font-bold\",\n            children: \"Estado:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 25\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"col-start-2 uppercase\",\n            children: data.Proyecto.estado\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 80\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"bg-blue-50 border-blue-500 border-solid border-2 col-span-2 py-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-center font-bold text-xl\",\n          children: \" OBJETIVOS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"pl-3 font-bold\",\n          children: \"OBJETIVOS GENERALES\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"pl-10\",\n          children: /*#__PURE__*/_jsxDEV(Objetivos, {\n            item: data.Proyecto,\n            tipo: \"GENERAL\",\n            className: \"list-disc\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"pl-3 font-bold\",\n          children: \"OBJETIVOS ESPECIFICOS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"pl-10\",\n          children: /*#__PURE__*/_jsxDEV(Objetivos, {\n            item: data.Proyecto,\n            tipo: \"ESPECIFICO\",\n            className: \"list-disc\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"bg-blue-50 border-blue-500 border-solid border-2 col-start-1 py-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-center font-bold text-l\",\n          children: \"ESTUDIANTES INSCRITOS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Estudiantes, {\n          item: data.Proyecto\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Inscribirse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"bg-blue-50 border-blue-500 border-solid border-2 col-start-2 py-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-center font-bold text-l\",\n          children: \"AVANCES\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Avances, {\n          item: data.Proyecto\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"A\\xF1adir Avance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(InscripcionProyecto, {\n      idProyecto: data.Proyecto._id,\n      estado: data.Proyecto.estado,\n      inscripciones: data.Proyectoinscripciones\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 9\n  }, this);\n};\n\n_s(VerProyecto, \"88OGMqpGJ6T6Kk8AnJlwh/5kvYQ=\", false, function () {\n  return [useParams, useQuery];\n});\n\n_c = VerProyecto;\n\nconst Estudiantes = _ref => {\n  let {\n    item\n  } = _ref;\n  console.log('listado de estudiantes inscriptos', item);\n  const Estudiantes = item.registros.map(estudiante => {\n    console.log('Verificando si esta autorizado', estudiante.estado);\n\n    if (estudiante.estado === \"AUTORIZADO\") {\n      console.log('Verificando si esta autorizado', estudiante.estado);\n      return /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"pl-10\",\n        children: /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"list-disc\",\n          children: [estudiante.estudiante.nombre, \" \", estudiante.estudiante.apellido]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this);\n    } else return null;\n  });\n  console.log(Estudiantes);\n\n  if (Estudiantes.length !== 0) {\n    return Estudiantes;\n  } else return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-center\",\n    children: \"NO HAY ESTUDIANTES REGISTRADOS AL PROYECTO \"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 19\n  }, this);\n};\n\n_c2 = Estudiantes;\n\nconst Avances = _ref2 => {\n  let {\n    item\n  } = _ref2;\n  const Avances = item.avances.map(avance => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: avance.descripcion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: avance.fecha\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: avance.objetivos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  });\n  console.log(Avances);\n\n  if (Avances.length !== 0) {\n    return /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"tabla\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Descripcion\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Estudiante\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Fecha\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Comentarios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: Avances\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this);\n  } else return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-center\",\n    children: \"NO HAY AVANCES EN EL PROYECTO \"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 19\n  }, this);\n};\n\n_c3 = Avances;\n\nconst InscripcionProyecto = _ref3 => {\n  _s2();\n\n  let {\n    idProyecto,\n    estado,\n    inscripciones\n  } = _ref3;\n  const [estadoInscripcion, setEstadoInscripcion] = useState('');\n  const [crearRegistro, {\n    data,\n    loading,\n    error\n  }] = useMutation(CREAR_INSCRIPCION); //const {userData}= useUser();\n\n  useEffect(() => {\n    // if (userData && inscripciones) {\n    if (inscripciones) {\n      const flt = inscripciones.filter(el => el.estudiante._id === '61af74d5ba5adc3b57f4b11f');\n\n      if (flt.length > 0) {\n        setEstadoInscripcion(flt[0].estado);\n      }\n    }\n  }, [inscripciones]);\n  useEffect(() => {\n    if (data) {\n      console.log('datos de la inscripcion', data); // Swal({\n      //     title: \"Gestión de Proyectos\",\n      //     text: \"Inscripción Exitosa\",\n      //     icon: \"success\",\n      //     timer: \"1000\"\n      // });\n\n      toast.success(\"Registro Exitoso\");\n    }\n  }, [data]);\n\n  const confirmarInscripcion = () => {\n    crearRegistro({\n      variables: {\n        proyecto: idProyecto,\n        estudiante: '61af74d5ba5adc3b57f4b11f'\n      }\n    }); //crearInscripcion({ variables: { proyecto: idProyecto, estudiante: userData._id } });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: estadoInscripcion !== '' ? /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [\"Ya estas inscrito en este proyecto y el estado es \", estadoInscripcion]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(ButtonLoading, {\n      onClick: () => confirmarInscripcion(),\n      disabled: estado === 'INACTIVO',\n      loading: loading,\n      text: \"Inscribirme en este proyecto\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s2(InscripcionProyecto, \"PSGjVle0ZmnkgHLaFZRW+nEybho=\", false, function () {\n  return [useMutation];\n});\n\n_c4 = InscripcionProyecto;\nexport default VerProyecto;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"VerProyecto\");\n$RefreshReg$(_c2, \"Estudiantes\");\n$RefreshReg$(_c3, \"Avances\");\n$RefreshReg$(_c4, \"InscripcionProyecto\");","map":{"version":3,"sources":["C:/Users/Laura/Desktop/Proyecto Team Mercury/Front/src/pages/proyectos/VerProyecto.jsx"],"names":["React","useEffect","useState","GET_PROYECTO","useParams","useMutation","useQuery","Objetivos","CREAR_INSCRIPCION","toast","ButtonLoading","VerProyecto","_id","data","error","loading","variables","console","log","Proyecto","nombre","lider","apellido","presupuesto","fechaInicio","fechaFin","fase","estado","Proyectoinscripciones","Estudiantes","item","registros","map","estudiante","length","Avances","avances","avance","descripcion","fecha","objetivos","InscripcionProyecto","idProyecto","inscripciones","estadoInscripcion","setEstadoInscripcion","crearRegistro","flt","filter","el","success","confirmarInscripcion","proyecto"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {GET_PROYECTO} from '../../graphql/proyectos/queries';\r\nimport {useParams} from 'react-router-dom'\r\nimport {useMutation, useQuery} from '@apollo/client'\r\nimport Objetivos from 'components/Objetivos'\r\nimport { CREAR_INSCRIPCION } from 'graphql/inscripciones/mutaciones';\r\nimport { toast } from 'react-toastify';\r\nimport ButtonLoading from 'components/ButtonLoading';\r\n\r\nconst VerProyecto=()=> {\r\n    const { _id } = useParams();\r\n    const {data, error, loading} = useQuery(GET_PROYECTO, {variables:{ _id }});\r\n    useEffect(() => {\r\n        console.log(\"data servidor\", data);\r\n      }, [data]);\r\n    useEffect(() => {\r\n        if (error) {\r\n          console.log(error);\r\n        }\r\n      }, [error]);\r\n    if (loading) return <div>Cargando....</div>;\r\n    return (\r\n        <div className='w-full'>\r\n            <header className=\"py-3\">\r\n                <h1 className=\"text-center uppercase font-extrabold text-3xl \">{data.Proyecto.nombre}</h1>\r\n            </header>\r\n            <div className='mx-4 grid grid-cols-2 gap-4'>\r\n                <section className='bg-blue-50 border-blue-500 border-solid border-2 col-span-2 py-2'>\r\n                    <h2 className='text-center font-bold text-2xl col-span-4 mb-2'> INFORMACION DEL PROYECTO</h2>\r\n                    <div className='pl-3 grid grid-cols-4'>\r\n                        <div className='col-start-1 font-bold'>ID del proyecto:</div> <div className='col-start-2 col-span-3 uppercase'>{data.Proyecto._id}</div>\r\n                        <div className='col-start-1 font-bold'>Lider:</div> <div className='col-start-2 col-span-3 uppercase'>{data.Proyecto.lider.nombre} {data.Proyecto.lider.apellido}</div>\r\n                        <span className='col-start-1 font-bold'>Presupuesto:</span> <span className='col-start-2 uppercase'>{data.Proyecto.presupuesto}</span>\r\n                        <span className='col-start-1 font-bold'>Fecha de Inicio:</span> <span className='col-start-2 uppercase'>{data.Proyecto.fechaInicio}</span>\r\n                        <span className='col-start-1 font-bold'>Fecha de Finalizacion:</span> <span className='col-start-2 uppercase'>{data.Proyecto.fechaFin}</span>\r\n                        <span className='col-start-1 font-bold'>Fase:</span> <span className='col-start-2 uppercase'>{data.Proyecto.fase}</span>\r\n                        <span className='col-start-1 font-bold'>Estado:</span> <span className='col-start-2 uppercase'>{data.Proyecto.estado}</span>\r\n                    </div>\r\n                </section>\r\n                <section className='bg-blue-50 border-blue-500 border-solid border-2 col-span-2 py-4'>\r\n                    <h2 className='text-center font-bold text-xl'> OBJETIVOS</h2>\r\n                    <h3 className=\"pl-3 font-bold\">OBJETIVOS GENERALES</h3>\r\n                    <ul className=\"pl-10\">\r\n                        <Objetivos item={data.Proyecto} tipo=\"GENERAL\" className=\"list-disc\"/>\r\n                    </ul>\r\n                    <h3 className=\"pl-3 font-bold\">OBJETIVOS ESPECIFICOS</h3>\r\n                    <ul className=\"pl-10\">\r\n                        <Objetivos item={data.Proyecto} tipo=\"ESPECIFICO\" className=\"list-disc\"/>\r\n                    </ul>\r\n                </section>\r\n                <section className='bg-blue-50 border-blue-500 border-solid border-2 col-start-1 py-4'>\r\n                    <h2 className='text-center font-bold text-l'>ESTUDIANTES INSCRITOS</h2>\r\n                    <Estudiantes item={data.Proyecto}/>\r\n                    <button>Inscribirse</button>\r\n                </section>\r\n                <section className='bg-blue-50 border-blue-500 border-solid border-2 col-start-2 py-4'>\r\n                    <h2 className='text-center font-bold text-l'>AVANCES</h2>\r\n                    <Avances item={data.Proyecto}/>\r\n                    <button>Añadir Avance</button>\r\n                </section>\r\n            </div>\r\n            <InscripcionProyecto \r\n            idProyecto={data.Proyecto._id} \r\n            estado={data.Proyecto.estado}\r\n            inscripciones={data.Proyectoinscripciones}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nconst Estudiantes = ({item}) => {\r\n    console.log('listado de estudiantes inscriptos',item)\r\n    const Estudiantes = item.registros.map((estudiante) => {\r\n    console.log('Verificando si esta autorizado',estudiante.estado)    \r\n    if (estudiante.estado===\"AUTORIZADO\") {\r\n        console.log('Verificando si esta autorizado',estudiante.estado)\r\n        return (\r\n            <ul className=\"pl-10\">\r\n                <li className=\"list-disc\">{estudiante.estudiante.nombre} {estudiante.estudiante.apellido}</li>\r\n            </ul>\r\n        )\r\n    } else return null\r\n    })\r\n    console.log(Estudiantes);\r\n    if (Estudiantes.length !== 0) {\r\n        return Estudiantes\r\n    } else return <p className=\"text-center\">NO HAY ESTUDIANTES REGISTRADOS AL PROYECTO </p>\r\n}\r\n\r\nconst Avances = ({item}) => {\r\n    const Avances = item.avances.map((avance) => {\r\n    return (\r\n        <>\r\n        <tr>\r\n            <td>{avance.descripcion}</td>\r\n            <td>{avance.fecha}</td>\r\n            <td>{avance.objetivos}</td>\r\n        </tr>\r\n        </>\r\n    )})\r\n    console.log(Avances);\r\n    if (Avances.length !== 0) {\r\n        return (\r\n            <table className=\"tabla\">\r\n                <thead>\r\n                    <tr>\r\n                        <td>Descripcion</td>\r\n                        <td>Estudiante</td>\r\n                        <td>Fecha</td>\r\n                        <td>Comentarios</td>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                \r\n                    {Avances}\r\n                </tbody>    \r\n            </table>\r\n        )\r\n    } else return <p className=\"text-center\">NO HAY AVANCES EN EL PROYECTO </p>\r\n}\r\n\r\nconst InscripcionProyecto = ({idProyecto, estado, inscripciones})=>{\r\n    const [estadoInscripcion, setEstadoInscripcion] = useState('');\r\n    const [crearRegistro, { data, loading, error }] = useMutation(CREAR_INSCRIPCION);\r\n    //const {userData}= useUser();\r\n    \r\n    useEffect(() => {\r\n        // if (userData && inscripciones) {\r\n        if (inscripciones) {    \r\n          const flt = inscripciones.filter((el) => el.estudiante._id === '61af74d5ba5adc3b57f4b11f');\r\n          if (flt.length > 0) {\r\n            setEstadoInscripcion(flt[0].estado);\r\n          }\r\n        }\r\n      }, [inscripciones]);\r\n    \r\n    useEffect(()=>{\r\n        if (data){\r\n            console.log('datos de la inscripcion',data);\r\n            // Swal({\r\n            //     title: \"Gestión de Proyectos\",\r\n            //     text: \"Inscripción Exitosa\",\r\n            //     icon: \"success\",\r\n            //     timer: \"1000\"\r\n            // });\r\n            toast.success(\"Registro Exitoso\");\r\n        }\r\n    },[data]);\r\n\r\n    const confirmarInscripcion = () => {\r\n        crearRegistro({ variables: { proyecto: idProyecto, estudiante: '61af74d5ba5adc3b57f4b11f' } });\r\n        //crearInscripcion({ variables: { proyecto: idProyecto, estudiante: userData._id } });\r\n      };\r\n\r\n      return (\r\n        <>\r\n          {estadoInscripcion !== '' ? (\r\n            <span>Ya estas inscrito en este proyecto y el estado es {estadoInscripcion}</span>\r\n          ) : (\r\n            \r\n            <ButtonLoading\r\n              onClick={() => confirmarInscripcion()}\r\n              disabled={estado === 'INACTIVO'}\r\n              loading={loading}\r\n              text='Inscribirme en este proyecto'\r\n            />\r\n          )}\r\n        </>\r\n      );\r\n}\r\n\r\nexport default VerProyecto"]},"metadata":{},"sourceType":"module"}