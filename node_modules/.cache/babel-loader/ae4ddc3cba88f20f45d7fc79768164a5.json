{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Laura\\\\Desktop\\\\Proyecto Team Mercury\\\\Front\\\\src\\\\pages\\\\proyectos\\\\VerProyecto.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { GET_PROYECTO } from '../../graphql/proyectos/queries';\nimport { useParams } from 'react-router-dom';\nimport { useMutation, useQuery } from '@apollo/client';\nimport Objetivos from 'components/Objetivos';\nimport { CREAR_INSCRIPCION } from 'graphql/inscripciones/mutaciones';\nimport { toast } from 'react-toastify';\nimport ButtonLoading from 'components/ButtonLoading';\nimport { Link } from \"react-router-dom\";\nimport ReactLoading from \"react-loading\";\nimport Usuario from '../../usuario.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst VerProyecto = () => {\n  _s();\n\n  const {\n    _id\n  } = useParams();\n  const {\n    data,\n    error,\n    loading\n  } = useQuery(GET_PROYECTO, {\n    variables: {\n      _id\n    }\n  });\n  useEffect(() => {\n    console.log(\"data servidor\", data);\n  }, [data]);\n  useEffect(() => {\n    if (error) {\n      console.log(error.message);\n      toast.error(\"Error al mostrar los proyectos\");\n    }\n  }, [error]);\n  if (loading) return /*#__PURE__*/_jsxDEV(ReactLoading, {\n    type: \"cylon\",\n    color: \"#4c2882\",\n    height: 667,\n    width: 365\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"items-center justify-center p-3\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/Proyectos\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-arrow-left text-gray-600 cursor-pointer font-bold text-xl hover:text-gray-900\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"mx-2 text-3xl text-gray-800 font-bold text-center\",\n        children: data.Proyecto.nombre\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-4 grid grid-cols-2 gap-4 mb-6 \",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"bg-blue-50 border-blue-500 border-solid border-2 col-span-2 py-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-center font-bold text-2xl col-span-4 mb-2\",\n          children: \" INFORMACION DEL PROYECTO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pl-3 grid grid-cols-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-start-1 font-bold\",\n            children: \"ID del proyecto:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 25\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-start-2 col-span-3\",\n            children: data.Proyecto._id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 87\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-start-1 font-bold\",\n            children: \"Lider:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 25\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-start-2 col-span-3 uppercase\",\n            children: [data.Proyecto.lider.nombre, \" \", data.Proyecto.lider.apellido]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 77\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"col-start-1 font-bold\",\n            children: \"Presupuesto:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 25\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"col-start-2 uppercase\",\n            children: data.Proyecto.presupuesto\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 85\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"col-start-1 font-bold\",\n            children: \"Fecha de Inicio:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 25\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"col-start-2 uppercase\",\n            children: data.Proyecto.fechaInicio === null ? \"EL PROYECTO AUN NO HA EMPEZADO\" : data.Proyecto.fechaInicio\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 89\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"col-start-1 font-bold\",\n            children: \"Fecha de Finalizacion:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"col-start-2 uppercase\",\n            children: data.Proyecto.fechaFin === null ? \"EL PROYECTO AUN NO TERMINADO\" : data.Proyecto.fechaFin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 95\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"col-start-1 font-bold\",\n            children: \"Fase:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"col-start-2 uppercase\",\n            children: data.Proyecto.fase\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 78\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"col-start-1 font-bold\",\n            children: \"Estado:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"col-start-2 uppercase\",\n            children: data.Proyecto.estado\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 80\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"bg-blue-50 border-blue-500 border-solid border-2 col-span-2 py-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-center font-bold text-xl\",\n          children: \" OBJETIVOS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"pl-3 font-bold\",\n          children: \"OBJETIVOS GENERALES\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"pl-10\",\n          children: /*#__PURE__*/_jsxDEV(Objetivos, {\n            item: data.Proyecto,\n            tipo: \"GENERAL\",\n            className: \"list-disc\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"pl-3 font-bold\",\n          children: \"OBJETIVOS ESPECIFICOS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"pl-10\",\n          children: /*#__PURE__*/_jsxDEV(Objetivos, {\n            item: data.Proyecto,\n            tipo: \"ESPECIFICO\",\n            className: \"list-disc\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"bg-blue-50 border-blue-500 border-solid border-2 col-start-1 py-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-center font-bold text-l\",\n          children: \"ESTUDIANTES INSCRITOS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Estudiantes, {\n          item: data.Proyecto\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(InscripcionProyecto, {\n          idProyecto: data.Proyecto._id,\n          estado: data.Proyecto.estado,\n          inscripciones: data.Proyectoinscripciones\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"bg-blue-50 border-blue-500 border-solid border-2 col-start-2 py-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-center font-bold text-l\",\n          children: \"AVANCES\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Avances, {\n          item: data.Proyecto\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), Usuario.rol === \"ESTUDIANTE\" ? /*#__PURE__*/_jsxDEV(InscripcionProyecto, {\n        idProyecto: data.Proyecto._id,\n        estado: data.Proyecto.estado,\n        inscripciones: data.Proyectoinscripciones\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 42\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this);\n};\n\n_s(VerProyecto, \"88OGMqpGJ6T6Kk8AnJlwh/5kvYQ=\", false, function () {\n  return [useParams, useQuery];\n});\n\n_c = VerProyecto;\n\nconst Estudiantes = _ref => {\n  let {\n    item\n  } = _ref;\n  const Estudiantes = item.registros.map(estudiante => {\n    if (estudiante.estado === \"ACEPTADA\") {\n      return /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"pl-2\",\n        children: /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"list-disc list-inside\",\n          children: [estudiante.estudiante._id, estudiante.nombre]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this);\n    } else return null;\n  });\n  const filtro = Estudiantes.filter(estudiante => estudiante !== null);\n\n  if (filtro.length !== 0) {\n    return Estudiantes;\n  } else return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-center\",\n    children: \"NO HAY ESTUDIANTES REGISTRADOS AL PROYECTO \"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 19\n  }, this);\n};\n\n_c2 = Estudiantes;\n\nconst Avances = _ref2 => {\n  let {\n    item\n  } = _ref2;\n  const Avances = item.avances;\n\n  if (Avances.length !== 0) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: `/VerAvance/${item._id}`,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center\",\n          children: [\"Hay \", Avances.length, \" \", Avances.length === 1 ? \" avance\" : \" avances\", \" en el proyecto \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"col-span-2 bg-blue-400 p-2 rounded-full shadow-md hover:bg-blue-600 text-white\",\n          children: \"Ver Avances\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }, this)\n    }, void 0, false);\n  } else return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center\",\n      children: \"No hay avances en el proyecto \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: `/Avances/${item._id}`,\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"col-span-2 bg-blue-400 p-2 rounded-full shadow-md hover:bg-blue-600 text-white\",\n        children: \"A\\xF1adir Avance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 26\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 22\n    }, this)]\n  }, void 0, true);\n};\n\n_c3 = Avances;\n\nconst InscripcionProyecto = _ref3 => {\n  _s2();\n\n  let {\n    idProyecto,\n    estado,\n    inscripciones\n  } = _ref3;\n  const [estadoInscripcion, setEstadoInscripcion] = useState('');\n  const [crearRegistro, {\n    data,\n    loading,\n    error\n  }] = useMutation(CREAR_INSCRIPCION); //const {userData}= useUser();\n\n  useEffect(() => {\n    // if (userData && inscripciones) {\n    if (inscripciones) {\n      const flt = inscripciones.filter(el => el.estudiante._id === '61af74d5ba5adc3b57f4b11f');\n\n      if (flt.length > 0) {\n        setEstadoInscripcion(flt[0].estado);\n      }\n    }\n  }, [inscripciones]);\n  useEffect(() => {\n    if (data) {\n      console.log('datos de la inscripcion', data); // Swal({\n      //     title: \"Gestión de Proyectos\",\n      //     text: \"Inscripción Exitosa\",\n      //     icon: \"success\",\n      //     timer: \"1000\"\n      // });\n\n      toast.success(\"Registro Exitoso\");\n    }\n  }, [data]);\n\n  const confirmarInscripcion = () => {\n    crearRegistro({\n      variables: {\n        proyecto: idProyecto,\n        estudiante: '61af74d5ba5adc3b57f4b11f'\n      }\n    }); //crearInscripcion({ variables: { proyecto: idProyecto, estudiante: userData._id } });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: estadoInscripcion !== '' ? /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [\"Ya estas inscrito en este proyecto y el estado es \", estadoInscripcion]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(ButtonLoading, {\n      onClick: () => confirmarInscripcion(),\n      disabled: estado === 'INACTIVO',\n      loading: loading,\n      text: \"Inscribirme en este proyecto\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s2(InscripcionProyecto, \"PSGjVle0ZmnkgHLaFZRW+nEybho=\", false, function () {\n  return [useMutation];\n});\n\n_c4 = InscripcionProyecto;\nexport default VerProyecto;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"VerProyecto\");\n$RefreshReg$(_c2, \"Estudiantes\");\n$RefreshReg$(_c3, \"Avances\");\n$RefreshReg$(_c4, \"InscripcionProyecto\");","map":{"version":3,"sources":["C:/Users/Laura/Desktop/Proyecto Team Mercury/Front/src/pages/proyectos/VerProyecto.jsx"],"names":["React","useEffect","useState","GET_PROYECTO","useParams","useMutation","useQuery","Objetivos","CREAR_INSCRIPCION","toast","ButtonLoading","Link","ReactLoading","Usuario","VerProyecto","_id","data","error","loading","variables","console","log","message","Proyecto","nombre","lider","apellido","presupuesto","fechaInicio","fechaFin","fase","estado","Proyectoinscripciones","rol","Estudiantes","item","registros","map","estudiante","filtro","filter","length","Avances","avances","InscripcionProyecto","idProyecto","inscripciones","estadoInscripcion","setEstadoInscripcion","crearRegistro","flt","el","success","confirmarInscripcion","proyecto"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {GET_PROYECTO} from '../../graphql/proyectos/queries';\r\nimport {useParams} from 'react-router-dom'\r\nimport {useMutation, useQuery} from '@apollo/client'\r\nimport Objetivos from 'components/Objetivos'\r\nimport { CREAR_INSCRIPCION } from 'graphql/inscripciones/mutaciones';\r\nimport { toast } from 'react-toastify';\r\nimport ButtonLoading from 'components/ButtonLoading';\r\nimport { Link } from \"react-router-dom\";\r\nimport ReactLoading from \"react-loading\";\r\nimport Usuario from '../../usuario.json';\r\n\r\n\r\nconst VerProyecto=()=> {\r\n    const { _id } = useParams();\r\n    const {data, error, loading} = useQuery(GET_PROYECTO, {variables:{ _id }});\r\n    \r\n    useEffect(() => {\r\n        console.log(\"data servidor\", data);\r\n      }, [data]);\r\n\r\n    useEffect(() => {\r\n        if (error) {\r\n          console.log(error.message);\r\n          toast.error(\"Error al mostrar los proyectos\")\r\n        }\r\n      }, [error]);\r\n\r\n    if (loading) return <ReactLoading type=\"cylon\" color=\"#4c2882\" height={667} width={365} /> ;\r\n    return (\r\n        <div className='w-full'>\r\n          <header className=\"items-center justify-center p-3\">\r\n            <Link to='/Proyectos'>\r\n                <i className='fas fa-arrow-left text-gray-600 cursor-pointer font-bold text-xl hover:text-gray-900' />\r\n            </Link>\r\n            <h1 className='mx-2 text-3xl text-gray-800 font-bold text-center'>{data.Proyecto.nombre}</h1>\r\n          </header>\r\n            <div className='mx-4 grid grid-cols-2 gap-4 mb-6 '>\r\n                <section className='bg-blue-50 border-blue-500 border-solid border-2 col-span-2 py-2'>\r\n                    <h2 className='text-center font-bold text-2xl col-span-4 mb-2'> INFORMACION DEL PROYECTO</h2>\r\n                    <div className='pl-3 grid grid-cols-4'>\r\n                        <div className='col-start-1 font-bold'>ID del proyecto:</div> <div className='col-start-2 col-span-3'>{data.Proyecto._id}</div>\r\n                        <div className='col-start-1 font-bold'>Lider:</div> <div className='col-start-2 col-span-3 uppercase'>{data.Proyecto.lider.nombre} {data.Proyecto.lider.apellido}</div>\r\n                        <span className='col-start-1 font-bold'>Presupuesto:</span> <span className='col-start-2 uppercase'>{data.Proyecto.presupuesto}</span>\r\n                        <span className='col-start-1 font-bold'>Fecha de Inicio:</span> <span className='col-start-2 uppercase'>{data.Proyecto.fechaInicio===null?\"EL PROYECTO AUN NO HA EMPEZADO\":data.Proyecto.fechaInicio}</span>\r\n                        <span className='col-start-1 font-bold'>Fecha de Finalizacion:</span> <span className='col-start-2 uppercase'>{data.Proyecto.fechaFin===null?\"EL PROYECTO AUN NO TERMINADO\":data.Proyecto.fechaFin}</span>\r\n                        <span className='col-start-1 font-bold'>Fase:</span> <span className='col-start-2 uppercase'>{data.Proyecto.fase}</span>\r\n                        <span className='col-start-1 font-bold'>Estado:</span> <span className='col-start-2 uppercase'>{data.Proyecto.estado}</span>\r\n                    </div>\r\n                </section>\r\n                <section className='bg-blue-50 border-blue-500 border-solid border-2 col-span-2 py-4'>\r\n                    <h2 className='text-center font-bold text-xl'> OBJETIVOS</h2>\r\n                    <h3 className=\"pl-3 font-bold\">OBJETIVOS GENERALES</h3>\r\n                    <ul className=\"pl-10\">\r\n                        <Objetivos item={data.Proyecto} tipo=\"GENERAL\" className=\"list-disc\"/>\r\n                    </ul>\r\n                    <h3 className=\"pl-3 font-bold\">OBJETIVOS ESPECIFICOS</h3>\r\n                    <ul className=\"pl-10\">\r\n                        <Objetivos item={data.Proyecto} tipo=\"ESPECIFICO\" className=\"list-disc\"/>\r\n                    </ul>\r\n                </section>\r\n                <section className='bg-blue-50 border-blue-500 border-solid border-2 col-start-1 py-4'>\r\n                    <h2 className='text-center font-bold text-l'>ESTUDIANTES INSCRITOS</h2>\r\n                    <Estudiantes item={data.Proyecto}/>\r\n                     <InscripcionProyecto \r\n                      idProyecto={data.Proyecto._id} \r\n                      estado={data.Proyecto.estado}\r\n                      inscripciones={data.Proyectoinscripciones}\r\n                      />\r\n                </section>\r\n                <section className='bg-blue-50 border-blue-500 border-solid border-2 col-start-2 py-4 text-center'>\r\n                    <h2 className='text-center font-bold text-l'>AVANCES</h2>\r\n                    <Avances item={data.Proyecto}/>                  \r\n                </section>\r\n            {\r\n              Usuario.rol===\"ESTUDIANTE\"?<InscripcionProyecto \r\n              idProyecto={data.Proyecto._id} \r\n              estado={data.Proyecto.estado}\r\n              inscripciones={data.Proyectoinscripciones}\r\n              />:null\r\n            }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nconst Estudiantes = ({item}) => {\r\n    const Estudiantes = item.registros.map((estudiante) => {   \r\n    if (estudiante.estado===\"ACEPTADA\") {\r\n        return (\r\n            <ul className=\"pl-2\">\r\n                <li className=\"list-disc list-inside\">{estudiante.estudiante._id}{estudiante.nombre}</li>\r\n            </ul>\r\n        )\r\n    } else return null\r\n    })\r\n    const filtro = Estudiantes.filter(estudiante => estudiante!==null)\r\n    if (filtro.length !== 0) {\r\n        return Estudiantes\r\n    } else return <p className=\"text-center\">NO HAY ESTUDIANTES REGISTRADOS AL PROYECTO </p>\r\n}\r\n\r\nconst Avances = ({item}) => {\r\n    const Avances = item.avances;\r\n    if (Avances.length !== 0) {\r\n        return (\r\n            <>\r\n              <Link to={`/VerAvance/${item._id}`}>\r\n                <p className=\"text-center\">Hay {Avances.length} {Avances.length === 1 ? \" avance\": \" avances\"} en el proyecto </p>\r\n                <button className=\"col-span-2 bg-blue-400 p-2 rounded-full shadow-md hover:bg-blue-600 text-white\" >Ver Avances</button>\r\n                </Link>\r\n            </>\r\n        )\r\n    } else return (<> <p className=\"text-center\">No hay avances en el proyecto </p>\r\n                     <Link to={`/Avances/${item._id}`}>\r\n                         <button className=\"col-span-2 bg-blue-400 p-2 rounded-full shadow-md hover:bg-blue-600 text-white\" >\r\n                         Añadir Avance\r\n                         </button>\r\n                    </Link>\r\n                     </> )\r\n}\r\n\r\nconst InscripcionProyecto = ({idProyecto, estado, inscripciones})=>{\r\n    const [estadoInscripcion, setEstadoInscripcion] = useState('');\r\n    const [crearRegistro, { data, loading, error }] = useMutation(CREAR_INSCRIPCION);\r\n    //const {userData}= useUser();\r\n    \r\n    useEffect(() => {\r\n        // if (userData && inscripciones) {\r\n        if (inscripciones) {    \r\n          const flt = inscripciones.filter((el) => el.estudiante._id === '61af74d5ba5adc3b57f4b11f');\r\n          if (flt.length > 0) {\r\n            setEstadoInscripcion(flt[0].estado);\r\n          }\r\n        }\r\n      }, [inscripciones]);\r\n    \r\n    useEffect(()=>{\r\n        if (data){\r\n            console.log('datos de la inscripcion',data);\r\n            // Swal({\r\n            //     title: \"Gestión de Proyectos\",\r\n            //     text: \"Inscripción Exitosa\",\r\n            //     icon: \"success\",\r\n            //     timer: \"1000\"\r\n            // });\r\n            toast.success(\"Registro Exitoso\");\r\n        }\r\n    },[data]);\r\n\r\n    const confirmarInscripcion = () => {\r\n        crearRegistro({ variables: { proyecto: idProyecto, estudiante: '61af74d5ba5adc3b57f4b11f' } });\r\n        //crearInscripcion({ variables: { proyecto: idProyecto, estudiante: userData._id } });\r\n      };\r\n\r\n      return (\r\n        <>\r\n          {estadoInscripcion !== '' ? (\r\n            <span>Ya estas inscrito en este proyecto y el estado es {estadoInscripcion}</span>\r\n          ) : (\r\n            \r\n            <ButtonLoading\r\n              onClick={() => confirmarInscripcion()}\r\n              disabled={estado === 'INACTIVO'}\r\n              loading={loading}\r\n              text='Inscribirme en este proyecto'\r\n            />\r\n          )}\r\n        </>\r\n      );\r\n}\r\n\r\nexport default VerProyecto"]},"metadata":{},"sourceType":"module"}